<script type="text/ng-template" id="templates/dashboard_task_loop.html">

  <div class="row cc-widget-list-hover" data-ng-click="api.widget.toggleShow(task)">

    <div class="three mobile-one columns cc-emitter-col cc-mobile-task-emitter-column">
      <div class="cc-emitter cc-emitter-{{task.color_class}}">{{task.source || task.emitter}}</div>
    </div>

    <div class="one mobile-one columns cc-task-checkbox-column cc-mobile-task-checkbox-column">
      <input type="checkbox"
        data-ng-change="changeTaskState(task)"
        data-ng-disabled="task.emitter=='Canvas'"
        data-ng-false-value="needs_action"
        data-ng-model="task.status"
        data-ng-true-value="completed"
      >
    </div>

    <div class="six mobile-one columns cc-task-title-column cc-mobile-task-title-column cc-widget-list-selected-title">
      <div
        class="cc-widget-short-title cc-widget-list-hover-title cc-widget-tasks-status-{{task.status}}"
        data-ng-class="{true:'cc-ellipsis'}[!task.show]">
        {{task.title}}
      </div>
    </div>

    <div
      class="two mobile-one columns cc-mobile-task-date-column cc-widget-tasks-notifications-date-string cc-right"
      data-ng-show="this.$parent.section.title != 'Unscheduled'">
      <span data-ng-show="task.bucket == 'Due Today'">TODAY</span>
      <span data-ng-show="task.due_date && task.bucket != 'Due Today' && tasks_mode != 'completed'">{{task.due_date.epoch * 1000 | date:'MM/dd'}}</span>
      <span data-ng-show="tasks_mode=='completed'">{{task.completed_date.epoch * 1000 | date:'MM/dd'}}</span>
    </div>
  </div>

  <div class="cc-widget-tasks-notifications-more" data-ng-show="task.show">
    <div class="row" data-ng-show="task.note">
      <div class="eight columns offset-by-four cc-widget-tasks-notifications-text">
        {{task.note}}
      </div>
    </div>
    <div class="row">
      <div class="eight columns offset-by-four cc-widget-tasks-notifications-text">
        <p><a data-ng-href="{{task.link_url}}" class="cc-widget-more-view-in">View in {{task.emitter}}</a></p>
      </div>
    </div>
  </div>

</script>
